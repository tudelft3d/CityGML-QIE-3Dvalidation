<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title></title><link rel="stylesheet" type="text/css" href="docbook-xsl.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.78.1" /></head><body><div xml:lang="en" class="article" lang="en"><div class="titlepage"><hr /></div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="section"><a href="#ring">1. RING</a></span></dt><dt><span class="section"><a href="#polygon">2. POLYGON</a></span></dt><dt><span class="section"><a href="#shell">3. SHELL</a></span></dt></dl></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="ring"></a>1. RING</h2></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">101 – GE_R_TOO_FEW_POINTS</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>A ring should have at least 3 points. For GML rings, this error ignores
the fact that the first and the last point of a ring are the same (see
103), ie a GML ring should have at least 4 points.</p></td></tr></tbody></table></div><pre class="programlisting">&lt;gml:LinearRing&gt;
  &lt;gml:pos&gt;0.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;0.0 0.0 0.0&lt;/gml:pos&gt;
&lt;/gml:LinearRing&gt;</pre><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">102 – GE_R_CONSECUTIVE_POINTS_SAME</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Points in a ring should not be repeated (except first-last in case of
GML, see 103). This error is for the common error where 2 <span class="emphasis"><em>consecutive</em></span>
points are at the same location. Error 104 is for points in a ring that
are repeated, but not consecutive.</p></td></tr></tbody></table></div><p>This ring is for instance invalid:</p><pre class="programlisting">&lt;gml:LinearRing&gt;
  &lt;gml:pos&gt;0.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 1.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;0.0 1.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;0.0 0.0 0.0&lt;/gml:pos&gt;
&lt;/gml:LinearRing&gt;</pre><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">103 – GE_R_NOT_CLOSED</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p><span class="emphasis"><em>This applies only to GML rings</em></span>. The first and last points have to
be identical (at the same location).</p></td></tr></tbody></table></div><p>This ring is for instance invalid:</p><pre class="programlisting">&lt;gml:LinearRing&gt;
  &lt;gml:pos&gt;0.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 0.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;1.0 1.0 0.0&lt;/gml:pos&gt;
  &lt;gml:pos&gt;0.0 1.0 0.0&lt;/gml:pos&gt;
&lt;/gml:LinearRing&gt;</pre><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">104 – GE_R_SELF_INTERSECTION</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>A ring should be <span class="emphasis"><em>simple</em></span>, ie it should not self-intersect. The
self-intersection can be at the location of an explicit point, or not.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/104.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">105 – GE_R_COLLAPSED_TO_LINE</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>A special case of self-intersection (104): the ring is collapsed to a
line. If the geometry is collapsed to a point, then 101/102 should be
used.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/105.png" alt="image" /></span></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="polygon"></a>2. POLYGON</h2></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">201: GE_P_INTERSECTION_RINGS</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Two or more rings intersect, these can be either the exterior ring with
an interior ring or only interior rings.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/201.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">202: GE_P_DUPLICATED_RINGS</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Two or more rings are identical.</p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">203: GE_P_NON_PLANAR_POLYGON_DISTANCE_PLANE</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>A polygon must be planar, ie all its points (used for both the exterior
and interior rings) must lie on a plane. To verify this, we must ensure
that the the distance between every point and a plane is less than
<span class="inlinemediaobject"><span class="phrase"></span></span>, a given <span class="emphasis"><em>tolerance</em></span> (eg 1cm). This plane
should be a plane fitted with least-square adjustment.</p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">204: GE_P_NON_PLANAR_POLYGON_NORMALS_DEVIATION</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>To ensure that cases such as that below are detected (the top polygon
is clearly non-planar, but would not be detected with 203 and a
tolerance of 1cm for instance) , another requirement is necessary: the
distance between every point forming a polygon and <span class="emphasis"><em>all</em></span> the planes
defined by all possible combinaisons of 3 non-colinear points is less
than <span class="inlinemediaobject"><span class="phrase"></span></span>. In practice it can be implemented with
a triangulation of the polygon (any triangulation): the orientation of
the normal of each triangle must not deviate more than than a certain
usef-defined tolerance <span class="inlinemediaobject"><span class="phrase"></span></span> (eg 1 degree).</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/204.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">205: GE_P_INTERIOR_DISCONNECTED</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>The interior of a polygon must be connected. The combinaison of
different valid rings can create such an error, for example:</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/205.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">206: GE_P_HOLE_OUTSIDE</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>One or more interior ring(s) is(are) located completely outside the
exterior ring. If the interior ring intersects the exterior ring, then
error 201 should be returned.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/206.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">207: GE_P_INNER_RINGS_NESTED</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>One or more interior ring(s) is(are) located completely inside another
interior ring.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/207.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">208: GE_P_ORIENTATION_RINGS_SAME</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>The interior rings must have the opposite direction (clockwise vs
counterclockwise) when viewed from a given point-of-view. When the
polygon is used as a bounding surface of a shell, then the rings have to
have a specified orientation (see 307/308).</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/208.png" alt="image" /></span></p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="shell"></a>3. SHELL</h2></div></div></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">301 – GE_S_TOO_FEW_POLYGONS</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>A shell should have at least 4 polygons—the simplest volumetric shape
in 3D is a tetrahedron.</p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">302 – GE_S_NOT_CLOSED</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>The shell must not have ‘holes’, ie it must be ‘watertight’. This
refers only to the topology of the shell, not to its geometry (see 306).</p></td></tr></tbody></table></div><p>The left solid is invalid, while the right one is valid (since the hole
is filled with other polygons):</p><p><span class="inlinemediaobject"><img src="figs/302.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">303 – GE_S_NON_MANIFOLD_VERTEX</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Each shell must be simple, ie it must be a 2-manifold. A vertex is
non-manifold when its incident polygons do not form one `umbrella’</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/303.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">304 – GE_S_NON_MANIFOLD_EDGE</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Each edge of a shell should have exactly 2 incident polygons.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/304.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">305 – GE_S_MULTIPLE_CONNECTED_COMPONENTS</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>Polygons that are not connected to the shell should be reported as an
error.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/305.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">306 – GE_S_SELF_INTERSECTION</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>If topology of the shell is correct and the shell is closed (thus no
error 301/302/303/304/305), it is possible that the geometry introduces
errors, eg intersections. For instance, the topology of both these
shells is identical, but the geometry differs. The left shell is valid
while the right one is invalid.</p></td></tr></tbody></table></div><p><span class="inlinemediaobject"><img src="figs/306.png" alt="image" /></span></p><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">307 – GE_S_POLYGON_WRONG_ORIENTATION</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>If one polygon is used to construct a shell, its exterior ring must be
oriented in such as way that when viewed from outside the shell the
points are ordered counterclockwise.</p></td></tr></tbody></table></div><div class="informaltable"><table cellpadding="4px" style="border-collapse: collapse;border-top: 3px solid #527bbd; border-bottom: 3px solid #527bbd; border-left: 3px solid #527bbd; border-right: 3px solid #527bbd; "><colgroup><col class="col_1" /></colgroup><thead><tr><th style="border-bottom: 1px solid #527bbd; " align="left" valign="top">308 – GE_S_ALL_POLYGONS_WRONG_ORIENTATION</th></tr></thead><tbody><tr><td style="" align="left" valign="top"><p>If all the polygons have the wrong orientation (as defined in 307), ie
they all point inwards.</p></td></tr></tbody></table></div></div></div></body></html>